{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/saitharun/Desktop/project/log-analyzer/frontend/lib/api.ts"],"sourcesContent":["import axios from \"axios\";\n\nexport const api = axios.create({\n  baseURL: process.env.Next_public_url || \"http://localhost:8000\",\n});\n"],"names":[],"mappings":";;;;AAGW;AAHX;;AAEO,MAAM,MAAM,wMAAK,CAAC,MAAM,CAAC;IAC9B,SAAS,gOAAO,CAAC,GAAG,CAAC,eAAe,IAAI;AAC1C"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/saitharun/Desktop/project/log-analyzer/frontend/app/upload/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { api } from \"@/lib/api\";\n\nexport default function UploadPage() {\n  const [file, setFile] = useState<File | null>(null);\n  const [loading, setLoading] = useState(false);\n  const router = useRouter();\n\n  const handleUpload = async () => {\n  if (!file) return;\n\n  setLoading(true);\n\n  try {\n    const formData = new FormData();\n    formData.append(\"file\", file, file.name);\n\n    const res = await api.post(\n      \"/logs/upload\",\n      formData,\n      {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      }\n    );\n\n    console.log(\"UPLOAD RESPONSE:\", res.data);\n\n    await api.post(\"/anomalies/run\");\n    await api.post(\"/anomalies/security\");\n    await api.get(\"/metrics/daily\");\n\n    router.push(\"/metrics\");\n  } catch (err: any) {\n    console.error(\"UPLOAD ERROR:\", err?.response || err);\n    alert(\"Upload failed â€” check console\");\n  } finally {\n    setLoading(false);\n  }\n};\nreturn (\n  <div className=\"max-w-xl mx-auto relative z-50\">\n    <h1 className=\"text-2xl font-semibold mb-4\">Upload Logs</h1>\n\n    <div className=\"bg-white rounded-xl shadow-sm p-6\">\n      {/* File picker (click-safe) */}\n      <label className=\"block cursor-pointer\">\n        <input\n          type=\"file\"\n          accept=\".log,.txt\"\n          onChange={(e) => setFile(e.target.files?.[0] || null)}\n          className=\"hidden\"\n        />\n\n        <div className=\"w-full border-2 border-dashed border-indigo-400 rounded-lg p-6 text-center text-gray-600 hover:bg-indigo-50\">\n          {file ? file.name : \"Click here to select a log file\"}\n        </div>\n      </label>\n\n      <button\n        onClick={handleUpload}\n        disabled={!file || loading}\n        className=\"mt-4 w-full bg-indigo-600 text-white py-2 rounded-lg disabled:opacity-50\"\n      >\n        {loading ? \"Processing...\" : \"Upload & Analyze\"}\n      </button>\n    </div>\n  </div>\n);\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS;;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,8NAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,8NAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,uMAAS;IAExB,MAAM,eAAe;QACrB,IAAI,CAAC,MAAM;QAEX,WAAW;QAEX,IAAI;YACF,MAAM,WAAW,IAAI;YACrB,SAAS,MAAM,CAAC,QAAQ,MAAM,KAAK,IAAI;YAEvC,MAAM,MAAM,MAAM,yKAAG,CAAC,IAAI,CACxB,gBACA,UACA;gBACE,SAAS;oBACP,gBAAgB;gBAClB;YACF;YAGF,QAAQ,GAAG,CAAC,oBAAoB,IAAI,IAAI;YAExC,MAAM,yKAAG,CAAC,IAAI,CAAC;YACf,MAAM,yKAAG,CAAC,IAAI,CAAC;YACf,MAAM,yKAAG,CAAC,GAAG,CAAC;YAEd,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,iBAAiB,KAAK,YAAY;YAChD,MAAM;QACR,SAAU;YACR,WAAW;QACb;IACF;IACA,qBACE,kPAAC;QAAI,WAAU;;0BACb,kPAAC;gBAAG,WAAU;0BAA8B;;;;;;0BAE5C,kPAAC;gBAAI,WAAU;;kCAEb,kPAAC;wBAAM,WAAU;;0CACf,kPAAC;gCACC,MAAK;gCACL,QAAO;gCACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI;gCAChD,WAAU;;;;;;0CAGZ,kPAAC;gCAAI,WAAU;0CACZ,OAAO,KAAK,IAAI,GAAG;;;;;;;;;;;;kCAIxB,kPAAC;wBACC,SAAS;wBACT,UAAU,CAAC,QAAQ;wBACnB,WAAU;kCAET,UAAU,kBAAkB;;;;;;;;;;;;;;;;;;AAKrC;GAnEwB;;QAGP,uMAAS;;;KAHF"}}]
}