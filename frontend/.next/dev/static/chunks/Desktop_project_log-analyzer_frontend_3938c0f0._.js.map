{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/saitharun/Desktop/project/log-analyzer/frontend/lib/api.ts"],"sourcesContent":["import axios from \"axios\";\n\nexport const api = axios.create({\n  baseURL: process.env.Next_public_url || \"http://localhost:8000\",\n});\n"],"names":[],"mappings":";;;;AAGW;AAHX;;AAEO,MAAM,MAAM,wMAAK,CAAC,MAAM,CAAC;IAC9B,SAAS,gOAAO,CAAC,GAAG,CAAC,eAAe,IAAI;AAC1C"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/saitharun/Desktop/project/log-analyzer/frontend/components/tables/RecentAnomalies.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { api } from \"@/lib/api\";\n\ntype Anomaly = {\n  id: number;\n  timestamp: string;\n  type: string;\n  severity: string;\n  score?: number;\n  message?: string;\n};\n\nexport default function RecentAnomalies() {\n  const [items, setItems] = useState<Anomaly[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n\n  useEffect(() => {\n    const fetchAnomalies = async () => {\n      try {\n        const res = await api.get(\"/anomalies\");\n\n        // HARD GUARD — backend must return array\n        const data = Array.isArray(res.data) ? res.data : [];\n\n        setItems(data.slice(0, 8));\n      } catch (err: any) {\n        console.error(\"Failed to load anomalies\", err);\n        setError(\"Failed to load anomalies\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchAnomalies();\n  }, []);\n\n  return (\n    <div className=\"bg-white rounded-xl shadow-sm p-5\">\n      <h3 className=\"text-sm font-medium text-gray-600 mb-4\">\n        Recent Anomalies\n      </h3>\n\n      {loading && (\n        <div className=\"text-sm text-gray-400\">Loading…</div>\n      )}\n\n      {!loading && error && (\n        <div className=\"text-sm text-red-500\">{error}</div>\n      )}\n\n      {!loading && !error && items.length === 0 && (\n        <div className=\"text-sm text-gray-400\">\n          No anomalies found\n        </div>\n      )}\n\n      {!loading && !error && items.length > 0 && (\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full text-sm\">\n            <thead>\n              <tr className=\"text-left text-gray-500 border-b\">\n                <th className=\"pb-2\">Time</th>\n                <th className=\"pb-2\">Type</th>\n                <th className=\"pb-2\">Severity</th>\n                <th className=\"pb-2\">Message</th>\n              </tr>\n            </thead>\n\n            <tbody>\n              {items.map((a) => (\n                <tr key={a.id} className=\"border-b last:border-0\">\n                  <td className=\"py-2 text-gray-400\">\n                    {new Date(a.timestamp).toLocaleString()}\n                  </td>\n                  <td className=\"py-2\">{a.type}</td>\n                  <td\n                    className={`py-2 font-medium ${severityColor(\n                      a.severity\n                    )}`}\n                  >\n                    {a.severity}\n                  </td>\n                  <td className=\"py-2 text-gray-500 truncate max-w-[300px]\">\n                    {a.message || \"-\"}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction severityColor(sev: string) {\n  switch (sev) {\n    case \"critical\":\n      return \"text-red-600\";\n    case \"high\":\n      return \"text-orange-500\";\n    case \"medium\":\n      return \"text-yellow-500\";\n    default:\n      return \"text-green-600\";\n  }\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAce,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,8NAAQ,EAAY,EAAE;IAChD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,8NAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,8NAAQ,EAAC;IAEnC,IAAA,+NAAS;qCAAC;YACR,MAAM;4DAAiB;oBACrB,IAAI;wBACF,MAAM,MAAM,MAAM,yKAAG,CAAC,GAAG,CAAC;wBAE1B,yCAAyC;wBACzC,MAAM,OAAO,MAAM,OAAO,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,GAAG,EAAE;wBAEpD,SAAS,KAAK,KAAK,CAAC,GAAG;oBACzB,EAAE,OAAO,KAAU;wBACjB,QAAQ,KAAK,CAAC,4BAA4B;wBAC1C,SAAS;oBACX,SAAU;wBACR,WAAW;oBACb;gBACF;;YAEA;QACF;oCAAG,EAAE;IAEL,qBACE,kPAAC;QAAI,WAAU;;0BACb,kPAAC;gBAAG,WAAU;0BAAyC;;;;;;YAItD,yBACC,kPAAC;gBAAI,WAAU;0BAAwB;;;;;;YAGxC,CAAC,WAAW,uBACX,kPAAC;gBAAI,WAAU;0BAAwB;;;;;;YAGxC,CAAC,WAAW,CAAC,SAAS,MAAM,MAAM,KAAK,mBACtC,kPAAC;gBAAI,WAAU;0BAAwB;;;;;;YAKxC,CAAC,WAAW,CAAC,SAAS,MAAM,MAAM,GAAG,mBACpC,kPAAC;gBAAI,WAAU;0BACb,cAAA,kPAAC;oBAAM,WAAU;;sCACf,kPAAC;sCACC,cAAA,kPAAC;gCAAG,WAAU;;kDACZ,kPAAC;wCAAG,WAAU;kDAAO;;;;;;kDACrB,kPAAC;wCAAG,WAAU;kDAAO;;;;;;kDACrB,kPAAC;wCAAG,WAAU;kDAAO;;;;;;kDACrB,kPAAC;wCAAG,WAAU;kDAAO;;;;;;;;;;;;;;;;;sCAIzB,kPAAC;sCACE,MAAM,GAAG,CAAC,CAAC,kBACV,kPAAC;oCAAc,WAAU;;sDACvB,kPAAC;4CAAG,WAAU;sDACX,IAAI,KAAK,EAAE,SAAS,EAAE,cAAc;;;;;;sDAEvC,kPAAC;4CAAG,WAAU;sDAAQ,EAAE,IAAI;;;;;;sDAC5B,kPAAC;4CACC,WAAW,CAAC,iBAAiB,EAAE,cAC7B,EAAE,QAAQ,GACT;sDAEF,EAAE,QAAQ;;;;;;sDAEb,kPAAC;4CAAG,WAAU;sDACX,EAAE,OAAO,IAAI;;;;;;;mCAbT,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuB7B;GAlFwB;KAAA;AAoFxB,SAAS,cAAc,GAAW;IAChC,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF"}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/saitharun/Desktop/project/log-analyzer/frontend/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { api } from \"@/lib/api\";\nimport RecentAnomalies from \"@/components/tables/RecentAnomalies\";\n\n\nexport default function Home() {\n  const [msg, setMsg] = useState(\"Checking backend...\");\n  const [err, setErr] = useState(\"\");\n  const [trend, setTrend] = useState<any[]>([]);\nconst [severity, setSeverity] = useState<any[]>([]);\n\nuseEffect(() => {\n  api.get(\"/metrics/daily\").then(res => {\n    const formatted = res.data.map((d: any, i: number) => ({\n      date: `Day ${i + 1}`,\n      error_count: d.error_count ?? 0,\n    }));\n    setTrend(formatted);\n  });\n\n  api.get(\"/metrics/summary\").then(res => {\n    const sev = res.data.severity || {};\n    setSeverity([\n      { name: \"Low\", value: sev.low || 0 },\n      { name: \"Medium\", value: sev.medium || 0 },\n      { name: \"High\", value: sev.high || 0 },\n      { name: \"Critical\", value: sev.critical || 0 },\n    ]);\n  });\n}, []);\n\n  useEffect(() => {\n    api.get(\"/\")\n      .then((res) => {\n        console.log(\"SUCCESS:\", res.data);\n        setMsg(\"Backend Connected ✅\");\n      })\n      .catch((e) => {\n        console.error(\"ERROR:\", e);\n        setMsg(\"Backend NOT Connected ❌\");\n        setErr(e?.message || \"unknown error\");\n      });\n  }, []);\n\n  return (\n    <main className=\"p-10 text-xl font-bold\">\n      <div>{msg}</div>\n      {err && <pre className=\"text-sm text-red-500 mt-4\">{err}</pre>}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n</div>\n<div className=\"mt-6\">\n  <RecentAnomalies />\n</div>\n\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAOe,SAAS;;IACtB,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,8NAAQ,EAAC;IAC/B,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,8NAAQ,EAAC;IAC/B,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,8NAAQ,EAAQ,EAAE;IAC9C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,8NAAQ,EAAQ,EAAE;IAElD,IAAA,+NAAS;0BAAC;YACR,yKAAG,CAAC,GAAG,CAAC,kBAAkB,IAAI;kCAAC,CAAA;oBAC7B,MAAM,YAAY,IAAI,IAAI,CAAC,GAAG;oDAAC,CAAC,GAAQ,IAAc,CAAC;gCACrD,MAAM,CAAC,IAAI,EAAE,IAAI,GAAG;gCACpB,aAAa,EAAE,WAAW,IAAI;4BAChC,CAAC;;oBACD,SAAS;gBACX;;YAEA,yKAAG,CAAC,GAAG,CAAC,oBAAoB,IAAI;kCAAC,CAAA;oBAC/B,MAAM,MAAM,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC;oBAClC,YAAY;wBACV;4BAAE,MAAM;4BAAO,OAAO,IAAI,GAAG,IAAI;wBAAE;wBACnC;4BAAE,MAAM;4BAAU,OAAO,IAAI,MAAM,IAAI;wBAAE;wBACzC;4BAAE,MAAM;4BAAQ,OAAO,IAAI,IAAI,IAAI;wBAAE;wBACrC;4BAAE,MAAM;4BAAY,OAAO,IAAI,QAAQ,IAAI;wBAAE;qBAC9C;gBACH;;QACF;yBAAG,EAAE;IAEH,IAAA,+NAAS;0BAAC;YACR,yKAAG,CAAC,GAAG,CAAC,KACL,IAAI;kCAAC,CAAC;oBACL,QAAQ,GAAG,CAAC,YAAY,IAAI,IAAI;oBAChC,OAAO;gBACT;iCACC,KAAK;kCAAC,CAAC;oBACN,QAAQ,KAAK,CAAC,UAAU;oBACxB,OAAO;oBACP,OAAO,GAAG,WAAW;gBACvB;;QACJ;yBAAG,EAAE;IAEL,qBACE,kPAAC;QAAK,WAAU;;0BACd,kPAAC;0BAAK;;;;;;YACL,qBAAO,kPAAC;gBAAI,WAAU;0BAA6B;;;;;;0BACpD,kPAAC;gBAAI,WAAU;;;;;;0BAErB,kPAAC;gBAAI,WAAU;0BACb,cAAA,kPAAC,2MAAe;;;;;;;;;;;;;;;;AAKlB;GAnDwB;KAAA"}}]
}